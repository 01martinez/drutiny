#!/usr/bin/env php
<?php

use Symfony\Component\Console\Application;
use SiteAudit\CommandDiscovery;
use Composer\Autoload\ClassLoader;
use Doctrine\Common\Annotations\AnnotationRegistry;


/**
 * @var ClassLoader $loader
 */
$loader = require __DIR__ . '/../vendor/autoload.php';
AnnotationRegistry::registerLoader([$loader, 'loadClass']);

$application = new Application();
$application->addCommands(CommandDiscovery::findCommands());
$application->run();
